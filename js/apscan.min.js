function toggleScan(e){e&&!autoScan?scanInfo.classList.remove("show-loading"):scanInfo.classList.add("show-loading")}function compare(e,t){return e.r>t.r?-1:e.r<t.r?1:0}function getEncryption(e){return 8==e?"WPA*":4==e?"WPA2":2==e?"WPA":7==e?"none":5==e?"WEP":void 0}function getResults(){toggleScan(!0),getResponse("APScanResults.json",function(e){var t=JSON.parse(e);t.aps=t.aps.sort(compare),networkInfo.innerHTML="("+t.aps.length+" found)",0==t.aps.length&&scan(),apMAC.innerHTML="";var n="";t.aps.length>0&&(n+='<tr><th>Ch</th><th>SSID</th><th>Signal</th><th>Type</th><th style="padding-left: 40px"></th></tr>');for(var s=0;s<t.aps.length;s++)1==t.aps[s].se?n+='<tr class="selected" onclick="select('+t.aps[s].i+')">':n+='<tr onclick="select('+t.aps[s].i+')">',n+="<td>"+t.aps[s].c+"</td>",n+="<td>"+t.aps[s].ss+"</td>",n+="<td>"+t.aps[s].r+' <meter value="'+t.aps[s].r+'" max="-30" min="-100" low="-80" high="-60" optimum="-50"></meter></td>',n+="<td>"+getEncryption(t.aps[s].e)+"</td>",t.aps[s].se?(n+='<td><input type="checkbox" name="check'+t.aps[s].i+'" id="check'+t.aps[s].i+'" value="false" checked><label class="checkbox no-events" for="check'+t.aps[s].i+'"></label></td>',apMAC.innerHTML=t.aps[s].m):n+='<td><input type="checkbox" name="check'+t.aps[s].i+'" id="check'+t.aps[s].i+'" value="false"><label class="checkbox no-events" for="check'+t.aps[s].i+'"></label></td>',n+="</tr>";table.innerHTML=n})}function scan(){toggleScan(!1),getResponse("APScan.json",function(e){"true"==e?getResults():showMessage("ERROR: Bad response 'APScan.json'"),toggleScan(!0)})}function select(e){getResponse("APSelect.json?num="+e,function(e){"true"==e?getResults():showMessage("ERROR: Bad response 'APSelect.json'")})}var table=document.getElementsByTagName("table")[0],networkInfo=getE("networksFound"),scanInfo=getE("spinner-container"),apMAC=getE("apMAC"),startStopScan=getE("startStopScan"),autoScan=!1;getResults();